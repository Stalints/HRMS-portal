{% load static %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HR Portal | HR Dashboard</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Dashboard custom CSS -->
  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
</head>

<body>
  <div class="d-flex">
    <!-- Sidebar -->
    <nav class="sidebar p-3 d-flex flex-column" aria-label="HR navigation" style="width: 280px; min-width: 280px; max-width: 280px; flex: 0 0 280px;">
      <div class="mb-4">
        <div class="d-flex align-items-center mb-2">
          <div class="d-inline-flex align-items-center justify-content-center rounded-3 bg-primary text-white me-2"
            style="width: 36px; height: 36px">
            HR
          </div>
          <div>
            <div class="fw-semibold small">HR Portal</div>
            <div class="text-secondary small">HR Dashboard</div>
          </div>
        </div>
      </div>

      <div class="mb-2 sidebar-heading">Main</div>
      <ul class="nav nav-pills flex-column mb-3 gap-1">
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
            href="{% url 'hr:dashboard' %}">
            <span class="me-2" aria-hidden="true">&#127968;</span> Dashboard
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'employee_list' %}active{% endif %}"
            href="{% url 'hr:employee_list' %}">
            <span class="me-2" aria-hidden="true">&#128101;</span> Employee Management
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'team_list' or request.resolver_match.url_name == 'team_add' or request.resolver_match.url_name == 'team_detail' or request.resolver_match.url_name == 'team_edit' %}active{% endif %}"
            href="{% url 'hr:team_list' %}">
            <span class="me-2" aria-hidden="true">&#129309;</span> Team Management
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'attendance_list' %}active{% endif %}"
            href="{% url 'hr:attendance_list' %}">
            <span class="me-2" aria-hidden="true">&#9201;</span> Time Cards / Attendance
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'leave_dashboard' %}active{% endif %}"
            href="{% url 'hr:leave_dashboard' %}">
            <span class="me-2" aria-hidden="true">&#128221;</span> Leave Management
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'announcement_list' %}active{% endif %}"
            href="{% url 'hr:announcement_list' %}">
            <span class="me-2" aria-hidden="true">&#128227;</span> Announcements
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'project_list' %}active{% endif %}"
            href="{% url 'hr:project_list' %}">
            <span class="me-2" aria-hidden="true">&#128193;</span> Projects
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'task_list' %}active{% endif %}"
            href="{% url 'hr:task_list' %}">
            <span class="me-2" aria-hidden="true">&#9989;</span> Tasks
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'client_list' %}active{% endif %}"
            href="{% url 'hr:client_list' %}">
            <span class="me-2" aria-hidden="true">&#127970;</span> Clients
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'events' %}active{% endif %}"
            href="{% url 'hr:events' %}">
            <span class="me-2" aria-hidden="true">&#128197;</span> Event Calendar
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'payroll_list' or request.resolver_match.url_name == 'payroll_create' or request.resolver_match.url_name == 'payroll_detail' or request.resolver_match.url_name == 'payroll_update' %}active{% endif %}"
            href="{% url 'hr:payroll_list' %}">
            <span class="me-2" aria-hidden="true">&#128176;</span> Payroll
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'invoice_list' or request.resolver_match.url_name == 'invoice_create' or request.resolver_match.url_name == 'invoice_detail' or request.resolver_match.url_name == 'invoice_update' %}active{% endif %}"
            href="{% url 'hr:invoice_list' %}">
            <span class="me-2" aria-hidden="true">&#129534;</span> Invoices
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'payment_list' %}active{% endif %}"
            href="{% url 'hr:payment_list' %}">
            <span class="me-2" aria-hidden="true">&#128179;</span> Payments
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'ticket_list' or request.resolver_match.url_name == 'ticket_detail' or request.resolver_match.url_name == 'ticket_update' or request.resolver_match.url_name == 'ticket_comment' %}active{% endif %}"
            href="{% url 'hr:ticket_list' %}">
            <span class="me-2" aria-hidden="true">&#127915;</span> Support Tickets
          </a>
        </li>
      </ul>

      <div class="mb-2 sidebar-heading">Personal & Tools</div>
      <ul class="nav nav-pills flex-column mb-3 gap-1">
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'notes' %}active{% endif %}"
            href="{% url 'hr:notes' %}">
            <span class="me-2" aria-hidden="true">&#128221;</span> Notes
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'timeline' %}active{% endif %}"
            href="{% url 'hr:timeline' %}">
            <span class="me-2" aria-hidden="true">&#128200;</span> Timeline
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'help' %}active{% endif %}"
            href="{% url 'hr:help' %}">
            <span class="me-2" aria-hidden="true">&#128218;</span> Help Articles
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'todo' %}active{% endif %}"
            href="{% url 'hr:todo' %}">
            <span class="me-2" aria-hidden="true">&#9989;</span> Personal To-Do List
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'notifications' %}active{% endif %}"
            href="{% url 'hr:notifications' %}">
            <span class="me-2" aria-hidden="true">&#128276;</span> Notifications
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'settings' %}active{% endif %}"
            href="{% url 'hr:settings' %}">
            <span class="me-2" aria-hidden="true">&#9881;</span> Settings / Security
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main content -->
    <div class="flex-grow-1 content-wrapper d-flex flex-column">
      <!-- Top navbar -->
      <nav class="navbar navbar-expand-lg bg-white border-bottom px-3 px-lg-4">
        <div class="container-fluid px-0">
          <button class="navbar-toggler me-2" type="button" data-bs-toggle="collapse" data-bs-target="#topNav"
            aria-controls="topNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <a class="navbar-brand d-lg-none" href="#">
            <span>HR Portal</span>
          </a>

          <div class="collapse navbar-collapse" id="topNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <span class="nav-link disabled">Logged in as: <strong>HR</strong></span>
              </li>
            </ul>

            <div class="d-flex align-items-center gap-3">
              <a href="{% url 'hr:notifications' %}" class="btn btn-light position-relative rounded-circle p-2" aria-label="Notifications">
                <i class="fa-solid fa-bell"></i>
                {% if navbar_unread_notifications > 0 %}
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                  {{ navbar_unread_notifications }}
                </span>
                {% endif %}
              </a>
              <div class="dropdown">
                <button class="btn btn-outline-secondary d-flex align-items-center gap-2" type="button"
                  data-bs-toggle="dropdown" aria-expanded="false">
                  <span
                    class="rounded-circle bg-primary text-white d-inline-flex justify-content-center align-items-center"
                    style="width: 32px; height: 32px">HR</span>
                  <span class="d-none d-sm-inline small">HR Admin</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <h6 class="dropdown-header">HR Admin</h6>
                  </li>
                  <li><a class="dropdown-item" href="{% url 'hr:settings' %}">Settings &amp; Security</a></li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>
                  <li><a class="dropdown-item" href="{% url 'hr:logout' %}">Sign out</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <!-- Dashboard content -->
      <main class="flex-grow-1 py-3 py-md-4 px-3 px-lg-4">
        {% block content %}
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h1 class="h4 mb-1">HR Dashboard</h1>
            <p class="text-muted small mb-0">
              High-level view of team, attendance, leaves, announcements, and events.
            </p>
          </div>
          <span class="badge text-bg-light d-none d-md-inline"></span>
        </div>

        <!-- Summary cards -->
        <div class="row g-3 mb-3 mb-md-4">
          <div class="col-12 col-sm-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="text-muted small">Total Employees</div>
                  <div class="fs-4 fw-semibold">{{ total_employees }}</div>
                </div>
                <div class="summary-card-icon"><i class="fa-solid fa-users"></i></div>
              </div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="text-muted small">Today's Attendance</div>
                  <div class="fs-4 fw-semibold">{{ present_today }}</div>
                  <span class="badge bg-success-subtle text-success border border-success-subtle mt-1">{{ attendance_percent }}%
                    Present</span>
                </div>
                <div class="summary-card-icon"><i class="fa-solid fa-stopwatch"></i></div>
              </div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="text-muted small">Pending Leave Requests</div>
                  <div class="fs-4 fw-semibold">{{ pending_leave_requests }}</div>
                  <span class="badge bg-warning-subtle text-warning border border-warning-subtle mt-1">Action
                    needed</span>
                </div>
                <div class="summary-card-icon"><i class="fa-solid fa-file-pen"></i></div>
              </div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="text-muted small">Active Announcements</div>
                  <div class="fs-4 fw-semibold">{{ active_announcements_count }}</div>
                  <span class="badge bg-info-subtle text-info border border-info-subtle mt-1">{{ announcements_this_week }} new this week</span>
                </div>
                <div class="summary-card-icon"><i class="fa-solid fa-bullhorn"></i></div>
              </div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="text-muted small">Total Revenue</div>
                  <div class="fs-4 fw-semibold">{{ invoice_total_revenue }}</div>
                  <span class="badge bg-success-subtle text-success border border-success-subtle mt-1">Paid:
                    {{ invoice_paid_count }}</span>
                  <span class="badge bg-warning-subtle text-warning border border-warning-subtle mt-1">Pending:
                    {{ invoice_pending_count }}</span>
                </div>
                <div class="summary-card-icon"><i class="fa-solid fa-file-invoice-dollar"></i></div>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-3 mb-3 mb-md-4">
          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body">
                <h2 class="h6 mb-2">Support Ticket Summary</h2>
                <p class="small mb-1 text-muted">Open Tickets</p>
                <div class="fs-5 fw-semibold mb-2">{{ open_tickets_count }}</div>
                <p class="small mb-1 text-muted">High Priority Tickets</p>
                <div class="fs-6 fw-semibold mb-2 text-danger">{{ high_priority_tickets_count }}</div>
                <div class="mt-3">
                  <a href="{% url 'hr:ticket_list' %}" class="btn btn-sm btn-outline-primary">Open Tickets</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-8">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h2 class="h6 mb-0">Latest Support Tickets</h2>
                <span class="badge bg-secondary-subtle text-secondary">Latest 5</span>
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush small">
                  {% for ticket in recent_tickets %}
                    <li class="list-group-item px-0 d-flex justify-content-between">
                      <div>
                        <div class="fw-semibold">{{ ticket.ticket_id }}</div>
                        <div class="text-muted">{{ ticket.client.company_name }} &middot; {{ ticket.subject }}</div>
                      </div>
                      <span class="badge bg-primary-subtle text-primary">{{ ticket.get_status_display }}</span>
                    </li>
                  {% empty %}
                    <li class="list-group-item px-0 text-muted">No support tickets available</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-3 mb-3 mb-md-4">
          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body">
                <h2 class="h6 mb-2">Payroll Summary</h2>
                <p class="small mb-1 text-muted">Total Net Payroll</p>
                <div class="fs-5 fw-semibold mb-2">{{ payroll_total_net }}</div>
                <p class="small mb-1 text-muted">This Month Payroll</p>
                <div class="fs-6 fw-semibold mb-2">{{ this_month_payroll_total }}</div>
                <span class="badge bg-success-subtle text-success me-1">Paid: {{ payroll_paid_count }}</span>
                <span class="badge bg-warning-subtle text-warning">Pending: {{ payroll_pending_count }}</span>
                <div class="mt-3">
                  <a href="{% url 'hr:payroll_list' %}" class="btn btn-sm btn-outline-primary">Open Payroll</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-8">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h2 class="h6 mb-0">Latest Payroll Records</h2>
                <span class="badge bg-secondary-subtle text-secondary">Latest 5</span>
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush small">
                  {% for record in latest_payroll_records %}
                    <li class="list-group-item px-0 d-flex justify-content-between">
                      <div>
                        <div class="fw-semibold">{{ record.employee_name }}</div>
                        <div class="text-muted">{{ record.month }}</div>
                      </div>
                      <span class="badge bg-primary-subtle text-primary">{{ record.net_salary }}</span>
                    </li>
                  {% empty %}
                    <li class="list-group-item px-0 text-muted">No payroll records available</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-3 mb-3 mb-md-4">
          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-body">
                <h2 class="h6 mb-2">Invoice Summary</h2>
                <p class="small mb-1 text-muted">Total Revenue</p>
                <div class="fs-5 fw-semibold mb-2">{{ invoice_total_revenue }}</div>
                <span class="badge bg-success-subtle text-success me-1">Paid: {{ invoice_paid_count }}</span>
                <span class="badge bg-warning-subtle text-warning">Pending: {{ invoice_pending_count }}</span>
                <div class="mt-3">
                  <a href="{% url 'hr:invoice_list' %}" class="btn btn-sm btn-outline-primary">Open Invoices</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-8">
            <div class="card border-0 shadow-sm h-100">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h2 class="h6 mb-0">Recent Invoices</h2>
                <span class="badge bg-secondary-subtle text-secondary">Latest 5</span>
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush small">
                  {% for invoice in recent_invoices %}
                    <li class="list-group-item px-0 d-flex justify-content-between">
                      <div>
                        <div class="fw-semibold">{{ invoice.invoice_number }}</div>
                        <div class="text-muted">{{ invoice.client.company_name }} &middot; {{ invoice.project.name }}</div>
                      </div>
                      <span class="badge bg-primary-subtle text-primary">{{ invoice.total_amount }}</span>
                    </li>
                  {% empty %}
                    <li class="list-group-item px-0 text-muted">No invoice records available</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Second row cards: upcoming events + to-do overview -->
        <div class="row g-3 mb-3 mb-md-4">
          <div class="col-12 col-lg-8">
            <div class="card border-0 shadow-sm h-100" id="events">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h2 class="h6 mb-0">Upcoming Events</h2>
                <span class="badge badge-soft rounded-pill">Event Calendar</span>
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush small">
                  {% for ev in upcoming_events %}
                  <li class="list-group-item px-0 d-flex justify-content-between">
                    <div>
                      <div class="fw-semibold">{{ ev.title }}</div>
                      <div class="text-muted">
                        {{ ev.event_date|date:"d M Y" }} &middot; {{ ev.start_time }}{% if ev.end_time %} - {{ ev.end_time }}{% endif %}
                      </div>
                    </div>
                    <span class="badge bg-primary-subtle text-primary">{{ ev.share_with }}</span>
                  </li>
                  {% empty %}
                  <li class="list-group-item px-0">
                    <div class="text-muted">No upcoming events</div>
                  </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>

          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100" id="todo">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h2 class="h6 mb-0">Personal To-Do Overview</h2>
                <span class="badge bg-secondary-subtle text-secondary">Today</span>
              </div>
              <div class="card-body">
                <p class="mb-1 small text-muted">
                  Pending personal tasks: <strong>{{ pending_personal_tasks_count }}</strong>
                </p>
                <ul class="list-group list-group-flush small">
                  {% for item in todo_preview_tasks %}
                  <li class="list-group-item px-0">
                    {{ item.description }}
                    {% if item.due_date %}
                    <span class="text-muted d-block">Due: {{ item.due_date|date:"d M Y" }}</span>
                    {% endif %}
                  </li>
                  {% empty %}
                  <li class="list-group-item px-0 text-muted">
                    No pending personal tasks.
                  </li>
                  {% endfor %}
                </ul>
                <a class="btn btn-sm btn-outline-primary mt-3 w-100" href="{% url 'hr:todo' %}">
                  Open full To-Do List
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Lower grid: recent activities, announcements, notifications -->
        <div class="row g-3">
          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100" id="activity">
              <div class="card-header card-header-small">
                <h2 class="h6 mb-0">Recent HR Activities</h2>
              </div>
              <div class="card-body scroll-area">
                <ul class="list-group list-group-flush small">
                  {% for activity in recent_activities %}
                  <li class="list-group-item px-0">
                    <span class="badge bg-primary-subtle text-primary me-1">{{ activity.get_type_display }}</span>
                    <strong>{{ activity.title }}</strong>
                    <div>{{ activity.message }}</div>
                    <div class="text-muted">{{ activity.created_at|timesince }} ago</div>
                  </li>
                  {% empty %}
                  <li class="list-group-item px-0 text-muted">
                    No recent HR activities.
                  </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>

          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100" id="announcements">
              <div class="card-header card-header-small d-flex justify-content-between">
                <h2 class="h6 mb-0">Announcements Preview</h2>
                <span class="badge bg-primary-subtle text-primary">Active: {{ active_announcements_count|default_if_none:0 }}</span>
              </div>
              <div class="card-body small">
                {% if active_announcements %}
                {% with first=active_announcements.0 rest=active_announcements|slice:'1:' %}
                <h3 class="fs-6 mb-1">{{ first.title }}</h3>
                <div class="text-muted mb-2">Published on: {{ first.publish_date }}</div>
                <p class="mb-2">{{ first.message }}</p>
                <hr />
                <ul class="list-unstyled mb-0">
                  {% for a in rest %}
                  <li class="mb-1">
                    <strong>{{ a.title }}</strong>
                    <span class="text-muted d-block">Published on: {{ a.publish_date }}</span>
                  </li>
                  {% endfor %}
                </ul>
                {% endwith %}
                {% else %}
                <div class="text-muted">No active announcements.</div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="col-12 col-lg-4">
            <div class="card border-0 shadow-sm h-100" id="notifications">
              <div class="card-header card-header-small d-flex justify-content-between">
                <h2 class="h6 mb-0">Notifications Preview</h2>
                <span class="badge bg-danger-subtle text-danger">{{ unread_notifications_count }} new</span>
              </div>
              <div class="card-body scroll-area small">
                <div class="alert alert-warning py-2 mb-2">
                  <strong>Pending approvals:</strong> {{ pending_leave_older_24h }} leave requests older than 24 hours.
                </div>
                <div class="list-group list-group-flush small">
                  {% for n in recent_notifications %}
                  <div class="list-group-item border-0 px-0 pb-2">
                    <div class="fw-semibold">{{ n.title }}</div>
                    <div class="text-muted">{{ n.message }}</div>
                    <span class="badge bg-secondary-subtle text-secondary mt-1">{{ n.get_type_display }}</span>
                  </div>
                  {% empty %}
                  <div class="list-group-item border-0 px-0 text-muted">
                    No notifications available.
                  </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>

        {% endblock %}
      </main>

      <footer class="border-top bg-white py-2 px-3 px-lg-4">
        <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
          <span>&copy; <span id="year"></span> HR Portal &bull; HR Module Dashboard</span>
          <span class="text-muted">Secure access &middot; reCAPTCHA protected</span>
        </div>
      </footer>
    </div>
  </div>

  <!-- Bootstrap JS (optional for basic navbar/ dropdowns) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>

</html>




