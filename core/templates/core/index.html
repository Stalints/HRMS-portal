{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Client Dashboard | HR Portal</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'core/css/style.css' %}">

  <style>
    :root{
      --bg: #f6f7fb;
      --card: rgba(255,255,255,.78);
      --card-strong: rgba(255,255,255,.92);
      --text: #0b1220;
      --muted: #667085;
      --border: rgba(15,23,42,.10);

      --primary: hsl(243 75% 59%);        /* like Tailwind primary */
      --p2: hsl(262 60% 58%);
      --p3: hsl(330 65% 55%);
      --teal: hsl(172 56% 42%);
      --blue: hsl(200 70% 50%);

      --shadow: 0 18px 50px rgba(2,6,23,.08);
      --shadow-soft: 0 10px 26px rgba(2,6,23,.06);

      --r: 18px;
      --r2: 22px;
    }

    body{
      min-height:100vh;
      background:
        radial-gradient(1000px 600px at 10% -10%, rgba(99,102,241,.12), transparent 55%),
        radial-gradient(900px 520px at 90% 0%, rgba(236,72,153,.10), transparent 55%),
        linear-gradient(180deg, #f7f8ff, #f5f6fb);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ====== FIX SIDE SPACE (FULL FEEL) ====== */
    .wrap{
      max-width: 1400px;
      margin: 0 auto;
      padding-left: 12px;
      padding-right: 12px;
    }
    @media (min-width: 576px){
      .wrap{ padding-left: 18px; padding-right: 18px; }
    }

    /* ====== NAV ====== */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255,255,255,.70);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(15,23,42,.08);
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      text-decoration:none;
      color: var(--text);
      font-weight: 900;
      letter-spacing: -.02em;
    }
    .brand-badge{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      background: linear-gradient(135deg, var(--primary), var(--p2));
      color: #fff;
      box-shadow: 0 14px 28px rgba(99,102,241,.20);
    }
    .pill{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.80);
      border: 1px solid rgba(15,23,42,.10);
      box-shadow: 0 10px 18px rgba(2,6,23,.06);
      font-weight: 700;
      color: var(--text);
      user-select: none;
    }
    .pill .avatar{
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      background: linear-gradient(135deg, var(--primary), var(--p3));
      color:#fff;
    }

    /* ====== CARD BASE ====== */
    .card-base{
      background: var(--card-strong);
      border: 1px solid rgba(15,23,42,.10);
      border-radius: var(--r2);
      box-shadow: var(--shadow-soft);
    }

    /* ====== HERO ====== */
    .hero{
      position: relative;
      overflow: hidden;
    }
    .hero-accent{
      height: 6px;
      background: linear-gradient(90deg, var(--primary), var(--p2), var(--p3));
    }
    .hero::after{
      content:"";
      position:absolute;
      top:-90px;
      right:-90px;
      width: 260px;
      height: 260px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(99,102,241,.12), transparent 65%);
      pointer-events:none;
    }
    .hero h1{
      margin: 0;
      font-size: clamp(22px, 2vw, 30px);
      font-weight: 950;
      letter-spacing: -.03em;
    }
    .hero p{
      margin: 10px 0 0;
      color: var(--muted);
      max-width: 560px;
    }

    /* ====== BUTTONS ====== */
    .btn-grad{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 16px;
      border-radius: 14px;
      text-decoration:none;
      color:#fff;
      font-weight: 800;
      background: linear-gradient(90deg, var(--primary), var(--p2));
      box-shadow: 0 16px 30px rgba(99,102,241,.22);
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
    }
    .btn-grad:hover{
      transform: translateY(-2px) scale(1.01);
      box-shadow: 0 22px 40px rgba(99,102,241,.28);
      filter: brightness(1.03);
      color:#fff;
    }
    .btn-soft{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 16px;
      border-radius: 14px;
      text-decoration:none;
      color: var(--text);
      font-weight: 800;
      background: rgba(255,255,255,.82);
      border: 1px solid rgba(15,23,42,.12);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
    }
    .btn-soft:hover{
      transform: translateY(-2px) scale(1.01);
      border-color: rgba(99,102,241,.28);
      box-shadow: 0 14px 26px rgba(2,6,23,.08);
      color: var(--text);
    }

    /* ====== STATS ====== */
    .stat{
      display:flex;
      align-items:center;
      gap: 14px;
      padding: 18px;
      cursor: default;
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .stat:hover{
      transform: translateY(-2px) scale(1.01);
      box-shadow: var(--shadow);
    }
    .stat-ic{
      width: 52px;
      height: 52px;
      border-radius: 18px;
      display:grid;
      place-items:center;
      color:#fff;
      font-size: 20px;
      box-shadow: 0 14px 26px rgba(2,6,23,.10);
    }
    .s1{ background: linear-gradient(135deg, var(--primary), var(--p2)); }
    .s2{ background: linear-gradient(135deg, var(--p2), var(--p3)); }
    .s3{ background: linear-gradient(135deg, var(--teal), var(--primary)); }

    .stat .value{
      font-size: 32px;
      line-height: 1;
      font-weight: 950;
      letter-spacing: -.02em;
    }
    .stat .label{
      margin-top: 6px;
      font-size: 12px;
      color: var(--muted);
      font-weight: 700;
    }

    /* ====== SECTION TITLE ====== */
    .section-title{
      display:flex;
      align-items:center;
      gap: 10px;
      margin-bottom: 14px;
    }
    .section-badge{
      width: 26px;
      height: 26px;
      border-radius: 10px;
      display:grid;
      place-items:center;
      background: linear-gradient(135deg, var(--primary), var(--p2));
      color:#fff;
    }
    .section-title h2{
      margin:0;
      font-size: 12px;
      letter-spacing: .14em;
      font-weight: 900;
      text-transform: uppercase;
    }

    /* ====== ACTION CARDS ====== */
    .action{
      position: relative;
      overflow: hidden;
      display:block;
      height: 100%;
      padding: 18px;
      border-radius: var(--r2);
      background: rgba(255,255,255,.85);
      border: 1px solid rgba(15,23,42,.10);
      box-shadow: var(--shadow-soft);
      text-decoration:none;
      color: var(--text);
      transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
    }
    .action::before{
      content:"";
      position:absolute;
      inset:0;
      opacity: 0;
      background: radial-gradient(700px 320px at 15% 0%, rgba(99,102,241,.08), transparent 60%),
                  radial-gradient(700px 320px at 85% 10%, rgba(236,72,153,.07), transparent 60%);
      transition: opacity .35s ease;
      pointer-events:none;
    }
    .action:hover{
      transform: translateY(-6px);
      box-shadow: var(--shadow);
      border-color: rgba(99,102,241,.26);
      color: var(--text);
    }
    .action:hover::before{ opacity: 1; }

    .action-top{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      margin-bottom: 14px;
      position: relative;
      z-index: 1;
    }
    .action-ic{
      width: 42px;
      height: 42px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      color:#fff;
      box-shadow: 0 12px 22px rgba(2,6,23,.10);
      transition: transform .25s ease, box-shadow .25s ease;
    }
    .action:hover .action-ic{ transform: scale(1.08); box-shadow: 0 16px 30px rgba(2,6,23,.14); }

    .ic1{ background: linear-gradient(135deg, var(--primary), var(--p2)); }
    .ic2{ background: linear-gradient(135deg, var(--p2), var(--p3)); }
    .ic3{ background: linear-gradient(135deg, var(--p3), hsl(350 70% 60%)); }
    .ic4{ background: linear-gradient(135deg, var(--teal), var(--primary)); }
    .ic5{ background: linear-gradient(135deg, var(--primary), var(--blue)); }
    .ic6{ background: linear-gradient(135deg, var(--p2), var(--blue)); }
    .ic7{ background: linear-gradient(135deg, var(--p3), var(--p2)); }
    .ic8{ background: linear-gradient(135deg, var(--teal), var(--blue)); }

    .arrow{
      color: rgba(15,23,42,.28);
      transition: transform .25s ease, color .25s ease;
      position: relative;
      z-index: 1;
    }
    .action:hover .arrow{
      color: var(--primary);
      transform: translate(2px, -2px);
    }

    .action h3{
      margin: 0;
      font-size: 14px;
      font-weight: 950;
      letter-spacing: -.01em;
      position: relative;
      z-index: 1;
    }
    .action p{
      margin: 6px 0 0;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.45;
      position: relative;
      z-index: 1;
    }
    .tag{
      display:inline-block;
      margin-top: 12px;
      font-size: 10px;
      font-weight: 900;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(15,23,42,.04);
      border: 1px solid rgba(15,23,42,.08);
      color: rgba(15,23,42,.62);
      position: relative;
      z-index: 1;
    }

    /* ====== FOOTER ====== */
    .footer{
      border-top: 1px solid rgba(15,23,42,.08);
      margin-top: 36px;
      padding-top: 18px;
    }
    .footer-note{
      color: var(--muted);
      font-weight: 700;
      font-size: 12px;
      display:flex;
      align-items:center;
      gap: 10px;
    }
    .footer-note .mini{
      width: 22px;
      height: 22px;
      border-radius: 10px;
      display:grid;
      place-items:center;
      background: rgba(15,23,42,.04);
      border: 1px solid rgba(15,23,42,.08);
      color: rgba(15,23,42,.60);
    }
    .logout{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.80);
      color: rgba(15,23,42,.70);
      font-weight: 900;
      text-decoration:none;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, color .18s ease;
    }
    .logout:hover{
      transform: translateY(-1px);
      border-color: rgba(99,102,241,.28);
      box-shadow: 0 12px 24px rgba(2,6,23,.08);
      color: rgba(15,23,42,.90);
    }
  </style>
</head>

<body>

  <!-- NAV -->
  <nav class="topbar">
    <div class="wrap">
      <div class="d-flex align-items-center justify-content-between" style="height:64px;">
        <a class="brand" href="{% url 'core:client_dashboard' %}">
          <span class="brand-badge"><i class="bi bi-building"></i></span>
          <span>HR Portal</span>
        </a>

        <div class="pill">
          <span class="avatar"><i class="bi bi-person-fill" style="font-size:.85rem;"></i></span>
          Client
        </div>
      </div>
    </div>
  </nav>

  <main class="wrap py-4 py-sm-5">

    <!-- HERO -->
    <section class="card-base hero">
      <div class="hero-accent"></div>

      <div class="p-4 p-sm-5 d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-between gap-3 gap-sm-4">
        <div>
          <h1>Welcome back <span style="font-size:1.15em;">üëã</span></h1>
          <p>Here's what's happening with your account today.</p>
        </div>

        <div class="d-flex gap-2 gap-sm-3 flex-wrap">
          <a class="btn-grad" href="{% url 'core:events' %}">
            <i class="bi bi-calendar-event"></i> Open Events
          </a>
          <a class="btn-soft" href="{% url 'core:profile' %}">
            <i class="bi bi-person"></i> My Profile
          </a>
        </div>
      </div>
    </section>

    <!-- STATS -->
    <section class="mt-4">
      <div class="row g-3 g-sm-4">
        <div class="col-12 col-sm-4">
          <div class="card-base stat">
            <div class="stat-ic s1">üìÑ</div>
            <div>
              <div class="value">{{ invoices_due|default_if_none:"0" }}</div>
              <div class="label">Invoices Due</div>
            </div>
          </div>
        </div>

        <div class="col-12 col-sm-4">
          <div class="card-base stat">
            <div class="stat-ic s2">üóìÔ∏è</div>
            <div>
              <div class="value">{{ events_this_week|default_if_none:"0" }}</div>
              <div class="label">Events This Week</div>
            </div>
          </div>
        </div>

        <div class="col-12 col-sm-4">
          <div class="card-base stat">
            <div class="stat-ic s3">üé´</div>
            <div>
              <div class="value">{{ open_tickets|default_if_none:"0" }}</div>
              <div class="label">Open Tickets</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- QUICK ACTIONS -->
    <section class="mt-4 mt-sm-5">
      <div class="section-title">
        <span class="section-badge"><i class="bi bi-stars" style="font-size:.85rem;"></i></span>
        <h2>Quick Actions</h2>
      </div>

      <div class="row g-3 g-sm-4">
        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:projects' %}">
            <div class="action-top">
              <div class="action-ic ic1"><i class="bi bi-briefcase"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Projects</h3>
            <p>View & manage active projects</p>
            <span class="tag">Management</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:invoices' %}">
            <div class="action-top">
              <div class="action-ic ic2"><i class="bi bi-file-earmark-text"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Invoices</h3>
            <p>Billing history & statements</p>
            <span class="tag">Finance</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:payments' %}">
            <div class="action-top">
              <div class="action-ic ic3"><i class="bi bi-credit-card"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Payments</h3>
            <p>Track payment activity</p>
            <span class="tag">Finance</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:support' %}">
            <div class="action-top">
              <div class="action-ic ic4"><i class="bi bi-life-preserver"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Support</h3>
            <p>Get help & submit tickets</p>
            <span class="tag">Help</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:messages' %}">
            <div class="action-top">
              <div class="action-ic ic5"><i class="bi bi-envelope"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Messages</h3>
            <p>Team communication hub</p>
            <span class="tag">Comms</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:events' %}">
            <div class="action-top">
              <div class="action-ic ic6"><i class="bi bi-calendar-event"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Events</h3>
            <p>Upcoming schedule & RSVP</p>
            <span class="tag">Calendar</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:profile' %}">
            <div class="action-top">
              <div class="action-ic ic7"><i class="bi bi-person"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Profile</h3>
            <p>Account & preferences</p>
            <span class="tag">Account</span>
          </a>
        </div>

        <div class="col-12 col-sm-6 col-lg-3">
          <a class="action" href="{% url 'core:knowledge_base' %}">
            <div class="action-top">
              <div class="action-ic ic8"><i class="bi bi-book"></i></div>
              <i class="bi bi-arrow-up-right arrow"></i>
            </div>
            <h3>Knowledge Base</h3>
            <p>Docs, guides & resources</p>
            <span class="tag">Learn</span>
          </a>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="d-flex flex-column flex-sm-row align-items-center justify-content-between gap-3">
        <div class="footer-note">
          <span class="mini"><i class="bi bi-shield-check"></i></span>
          Your data is encrypted and securely stored.
        </div>
        <a class="logout" href="{% url 'logout' %}">
          <i class="bi bi-box-arrow-right"></i> Logout
        </a>
      </div>
    </footer>

  </main>

</body>
</html>