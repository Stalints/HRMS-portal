{% extends 'employee/base.html' %}

{% block page_title %}Dashboard{% endblock %}

{% block content %}

<h2>Welcome, {{ request.user.username }} ðŸ‘‹</h2>
<p style="color:#64748b;">Hereâ€™s a quick overview of your work status.</p>

<br>

<!-- Attendance Card -->
<div class="card">
    <h3>Today's Attendance</h3>
    <br>
    <!-- âœ… Updated URL to use employee namespace -->
    <a href="{% url 'employee:clock_in' %}" class="btn-primary">
        ðŸŸ¢ Clock In
    </a>

    <!-- âœ… Updated URL to use employee namespace -->
    <a href="{% url 'employee:clock_out' %}" 
       class="btn-primary" 
       style="background:#dc2626;">
        ðŸ”´ Clock Out
    </a>
</div>

<!-- Overview Cards -->
<div style="display:grid; grid-template-columns: repeat(4,1fr); gap:20px;">

    <div class="card" style="border-left:5px solid #2563eb;">
        <h3>{{ attendance_count }}</h3>
        <p>Days Present (This Month)</p>
    </div>

    <div class="card" style="border-left:5px solid #7c3aed;">
        <h3>{{ task_count }}</h3>
        <p>Tasks Assigned</p>
    </div>

    <div class="card" style="border-left:5px solid #f59e0b;">
        <h3>{{ announcement_count }}</h3>
        <p>Announcements</p>
    </div>

    <div class="card" style="border-left:5px solid #dc2626;">
        <h3>{{ pending_leaves }}</h3>
        <p>Pending Leaves</p>
    </div>

</div>

<br><br>

<!-- Quick Actions -->
<div class="card">
    <h3>Quick Actions</h3>
    <br>
    <!-- âœ… Updated URLs to use employee namespace -->
    <a href="{% url 'employee:employee_leaves' %}">âž• Apply Leave</a> |
    <a href="{% url 'employee:attendance_history' %}">ðŸ“… Attendance</a> |
    <a href="{% url 'employee:employee_announcements' %}">ðŸ“¢ Announcements</a>
</div>

{% endblock %}
